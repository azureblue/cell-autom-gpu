<html>
    <head>
        <title>cellular automata simulation</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
        <link rel="shortcut icon" href="img/favicon.ico">
        <style>
            * {border: 0px; width: 100%; height: 100%; margin: 0px;}
            canvas {position: absolute; background: transparent;}
        </style>
        <script src="gl.js"></script>
        <script src="board.js"></script>
        <script src="mathutils.js"></script>
        <script src="geom.js"></script>
        <script src="color.js"></script>
        <script src="ca.js"></script>
        <script src="benchmark.js"></script>

        <script>
            function getCanvas() {
                return document.getElementById("canvas");
            }
            
            function updateCanvasSize() {
                var canvas = getCanvas();
                canvas.width = canvas.clientWidth;
                canvas.height = canvas.clientHeight;
            }

            function start() {
                var benchmark = new CaBenchmark(getCanvas(), 2048, 2048, 100, 20);
                benchmark.runBenchmark().then(res => {
                    console.log("init: " + res.initTime);
                    console.log("fps: " + res.fps);
                    console.log("avgFps: " + (res.fps.reduce((a, b) => a + b) / res.fps.length));
                    console.log("realFps: " + res.realFps);
                    benchmark.renderCa();
                });
            }
        </script>
    </head>
    <body onload="start()">
        <canvas id="canvas"></canvas>
    </body>
</html>
